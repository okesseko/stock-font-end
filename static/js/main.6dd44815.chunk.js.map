{"version":3,"sources":["environment/api.js","pages/auto-chart/settings/math-model.js","pages/auto-chart/settings/index.jsx","pages/echart-example/mock-data.js","pages/echart-example/bar/index.jsx","pages/echart-example/bar-line/index.jsx","pages/auto-chart/index.jsx","pages/case/create.jsx","pages/case/index.jsx","pages/echart-example/candlestick/index.jsx","pages/echart-example/index.jsx","pages/frequent-data/index.jsx","pages/main/index.jsx","pages/table/order-table/index.jsx","pages/table/price-table/index.jsx","pages/quick-order/index.jsx","pages/replay/index.jsx","component/router-link/index.jsx","App.jsx","index.js"],"names":["defaultAxios","axios","create","baseURL","api","url","method","nextExponential","lambda","Number","TypeError","Math","log","random","getBatches","batch_size","min","max","prob","q","p","pow","ceil","geometricDistribution","sendOrderApi","data","investorId","stockId","price","quantity","priceType","timeRestriction","then","res","renderData","params","content","default_lambda_B","default_lambda_A","R_B","R_A","default_theta_B","default_theta_A","R_theta_B","R_theta_A","mu_B","mu_A","T","count","firstOrderSellPrice","matchPrice","firstOrderBuyPrice","buyLeftQueue","buyRightQueue","sellLeftQueue","sellRightQueue","tickRange","forEach","push","newTickRange","JSON","parse","stringify","sort","a","b","lambda_B","theta_B","lambda_A","theta_A","lowest","obj","Object","entries","lowestItems","lowestValueAndKey","next","kind","substring","type","keys","length","randomProperty","filter","id","Settings","buttonStatus","displayData","useRef","useState","nextTime","setNextTime","setting","setSetting","useEffect","isGetLatest","current","setTimeout","className","step","value","onChange","rawData","categoryData","values","i","splice","splitData","BarChart","originData","showType","yAxisMax","setYAxisMax","setData","center","setCenter","xAxis","series","centerBuffer","fiveTickRange","sellQuantity","buyQuantity","index","console","b1","a1","undefined","showValue","deta","abs","options","tooltip","trigger","axisPointer","formatter","param","name","seriesName","grid","left","right","bottom","containLabel","yAxis","splitNumber","axisLabel","itemStyle","color","markPoint","symbol","symbolSize","Array","fill","map","e","option","BarLineChart","label","backgroundColor","boundaryGap","scale","dataZoom","show","realtime","start","end","buy","sell","yAxisIndex","AutoChart","chartRecord","setOriginData","setButtonStatus","setShowType","frequency","setFrequency","timeChart","setTimeChart","clearInterval","setInterval","dateFormat","createdTime","close","firstOrderBuy","firstOrderSell","style","width","marginLeft","onClick","background","danger","isReset","target","Create","visible","setVisible","defaultValue","reset","Form","useForm","form","setFieldsValue","title","onOk","submit","onCancel","resetFields","okText","cancelText","layout","onFinish","finally","initialValues","remember","Item","rules","required","message","placeholder","Title","Input","Search","Typography","Case","orederData","setOrderData","page","setPage","pageSize","setPageSize","totalSize","setTotalSize","setReset","editValue","setEditValue","checked","setChecked","searchCondition","setSearchCondition","rowSelection","selectedRowKeys","selectedRows","preserveSelectedRowKeys","level","justify","align","span","size","disabled","rowKey","record","columns","dataIndex","render","dayjs","format","shape","icon","EditOutlined","DeleteOutlined","dataSource","pagination","total","onShowSizeChange","cur","sticky","calculateMA","dayCount","result","len","sum","j","legend","axisLine","onZero","splitLine","splitArea","top","color0","borderColor","borderColor0","normal","round","coord","valueDim","markLine","emphasis","smooth","lineStyle","opacity","Candlestick","EchartExample","FrequentData","startTime","setStartTime","endTime","setEndTime","setStockId","display","flexDirection","padding","showTime","disabledDate","time","toISOString","paddingLeft","fileName","headers","match","replace","window","URL","createObjectURL","Blob","link","document","createElement","href","setAttribute","body","appendChild","click","Main","OrderTable","PriceTable","QuickOrder","containerData","setContainerData","rangeData","setRangeData","setQuantity","sendOrder","refreshDefaultDisplay","virtualOrderContainerId","refreshDisplay","marginBottom","marginRight","range","key","ReplayChart","restData","setResetdata","restDataIndex","setResetdataIndex","orders","nextStep","RouterLink","to","exact","App","path","component","from","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.6dd44815.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\nexport const defaultAxios = axios.create({\r\n  baseURL: \"http://220.141.182.142:8080/\",\r\n});\r\n\r\n// api\r\n\r\nexport const api = {\r\n  getOrder: { url: \"api/order\", method: \"GET\" },\r\n  postOrder: { url: \"api/order\", method: \"POST\" },\r\n  deleteOrder: { url: \"api/order\", method: \"DELETE\" },\r\n  getDisplay: { url: \"api/display\", method: \"GET\" },\r\n  getDisplayChart: { url: \"api/display/chart\", method: \"GET\" },\r\n  getTransaction: { url: \"api/transaction\", method: \"GET\" },\r\n  resetStock: { url: \"api/stock/reset\", method: \"PUT\" },\r\n  getVirtualOrder: { url: \"api/virtualOrder\", method: \"GET\" },\r\n  postVirtualOrder: { url: \"api/virtualOrder\", method: \"POST\" },\r\n  resetVirtualOrder: { url: \"api/virtualOrder\", method: \"PUT\" },\r\n  getVirtualOrderContainer: { url: \"api/virtualOrder/container\", method: \"GET\" },\r\n\r\n  getContainer: { url: \"api/virtualOrder/container\", method: \"GET\" },\r\n  postContainer: { url: \"api/virtualOrder/container\", method: \"POST\" },\r\n  putContainer: { url: \"api/virtualOrder/container\", method: \"PUT\" },\r\n  deleteContainer: {\r\n    url: \"api/virtualOrder/container\",\r\n    method: \"DELETE\",\r\n  },\r\n  getFrequentData: { url: \"api/frequentData\", method: \"GET\" },\r\n  downloadFrequentData: { url: \"api/frequentData/download\", method: \"GET\" },\r\n};\r\n","import { defaultAxios, api } from \"../../../environment/api\";\r\n\r\nfunction nextExponential(lambda) {\r\n  // if (\"number\" !== typeof lambda) {\r\n  //   throw new TypeError(\"nextExponential: lambda must be number.\");\r\n  // }\r\n  lambda = Number(lambda);\r\n\r\n  if (lambda <= 0) {\r\n    throw new TypeError(\"nextExponential: \" + \"lambda must be greater than 0.\");\r\n  }\r\n  return -Math.log(1 - Math.random()) / lambda;\r\n}\r\n\r\nfunction lowestValueAndKey(obj) {\r\n  let [lowestItems] = Object.entries(obj).sort(([, v1], [, v2]) => v1 - v2);\r\n  return [lowestItems[0], lowestItems[1]];\r\n}\r\n\r\nfunction geometricDistribution(min, max, prob) {\r\n  let q = 0;\r\n  let p = Math.pow(prob, 1 / (max - min));\r\n  while (true) {\r\n    q = Math.ceil(Math.log(1 - Math.random()) / Math.log(p)) + (min - 1);\r\n    if (q <= max) {\r\n      return q;\r\n    }\r\n  }\r\n}\r\n\r\nfunction getBatches(batch_size) {\r\n  let p = 0.2;\r\n  return geometricDistribution(1, batch_size, p);\r\n}\r\n\r\nfunction sendOrderApi(data) {\r\n  // console.log(\"sendData\", data);\r\n  defaultAxios({\r\n    url: api.postOrder.url,\r\n    method: api.postOrder.method,\r\n    data: {\r\n      investorId: data.investorId,\r\n      stockId: data.stockId,\r\n      method: data.method, // BUY = 0, SELL = 1\r\n      price: data.price,\r\n      quantity: data.quantity,\r\n      priceType: data.priceType, // MARKET = 0, LIMIT = 1\r\n      timeRestriction: data.timeRestriction, // ROD = 0, IOC = 1, FOK = 2\r\n    },\r\n  }).then((res) => {\r\n    // console.log(res.data);\r\n  });\r\n}\r\n\r\nfunction sendCancelApi(data) {\r\n  // console.log(\"cancelData\", data);\r\n  defaultAxios({\r\n    url: api.deleteOrder.url,\r\n    method: api.deleteOrder.method,\r\n    data: {\r\n      id: data.id,\r\n      quantity: data.quantity,\r\n    },\r\n  }).then((res) => {\r\n    // console.log(res.data);\r\n  });\r\n}\r\n\r\nexport const renderData = function (params, content) {\r\n  let default_lambda_B = params.default_lambda_B;\r\n  let default_lambda_A = params.default_lambda_A;\r\n  let R_B = params.R_B;\r\n  let R_A = params.R_A;\r\n  let default_theta_B = params.default_theta_B;\r\n  let default_theta_A = params.default_theta_A;\r\n  let R_theta_B = params.R_theta_B;\r\n  let R_theta_A = params.R_theta_A;\r\n  let mu_B = params.mu_B;\r\n  let mu_A = params.mu_A;\r\n  let batch_size = params.batch_size;\r\n\r\n  let T = {};\r\n  var count = 0;\r\n\r\n  const firstOrderSellPrice = (content.firstOrderSellPrice == null) ? content.matchPrice : content.firstOrderSellPrice;\r\n  const firstOrderBuyPrice = (content.firstOrderBuyPrice == null) ? content.matchPrice : content.firstOrderBuyPrice;\r\n  let buyLeftQueue = [];\r\n  let buyRightQueue = [];\r\n  let sellLeftQueue = [];\r\n  let sellRightQueue = [];\r\n  content.tickRange.forEach(function (data) {\r\n    if (data.price < firstOrderBuyPrice) {\r\n      buyLeftQueue.push(data.price);\r\n    }\r\n    if (data.price < firstOrderSellPrice) {\r\n      sellLeftQueue.push(data.price);\r\n    }\r\n  });\r\n  let newTickRange = JSON.parse(JSON.stringify(content.tickRange))\r\n  newTickRange = newTickRange.sort((a, b) => a.price - b.price)\r\n  newTickRange.forEach(function (data) {\r\n    if (data.price > firstOrderBuyPrice) {\r\n      buyRightQueue.push(data.price);\r\n    }\r\n    if (data.price > firstOrderSellPrice) {\r\n      sellRightQueue.push(data.price);\r\n    }\r\n  });\r\n\r\n  count = 0;\r\n  buyLeftQueue.forEach(function(price) {\r\n    let lambda_B = default_lambda_B * Math.pow(R_B, count);\r\n    let theta_B = default_theta_B * Math.pow(R_theta_B, count);\r\n    T[\"LB\" + price] = nextExponential(lambda_B);\r\n    T[\"CB\" + price] = nextExponential(theta_B);\r\n    count++;\r\n  })\r\n  count = 0;\r\n  buyRightQueue.forEach(function(price) {\r\n    let lambda_B = default_lambda_B * Math.pow(R_B, count);\r\n    let theta_B = default_theta_B * Math.pow(R_theta_B, count);\r\n    T[\"LB\" + price] = nextExponential(lambda_B);\r\n    T[\"CB\" + price] = nextExponential(theta_B);\r\n    count++;\r\n  })\r\n  count = 0;\r\n  sellLeftQueue.forEach(function(price) {\r\n    let lambda_A = default_lambda_A * Math.pow(R_A, count);\r\n    let theta_A = default_theta_A * Math.pow(R_theta_A, count);\r\n    T[\"LA\" + price] = nextExponential(lambda_A);\r\n    T[\"CA\" + price] = nextExponential(theta_A);\r\n    count++;\r\n  })\r\n  count = 0;\r\n  sellRightQueue.forEach(function(price) {\r\n    let lambda_A = default_lambda_A * Math.pow(R_A, count);\r\n    let theta_A = default_theta_A * Math.pow(R_theta_A, count);\r\n    T[\"LA\" + price] = nextExponential(lambda_A);\r\n    T[\"CA\" + price] = nextExponential(theta_A);\r\n    count++;\r\n  })\r\n  \r\n  T[\"MB\"] = nextExponential(mu_B);\r\n  T[\"MS\"] = nextExponential(mu_A);\r\n\r\n  let lowest = lowestValueAndKey(T);\r\n  let next = lowest[1] * 1000 * 100;\r\n\r\n  let kind = lowest[0].substring(0, 1);\r\n  let type = lowest[0].substring(1, 2);\r\n\r\n  // console.log(\"T\", T);\r\n\r\n  switch (kind) {\r\n    // 限價單\r\n    case \"L\":\r\n      // console.log(\"Limit order\");\r\n      sendOrderApi({\r\n        investorId: 1,\r\n        stockId: 1,\r\n        method: type == \"B\" ? 0 : 1, // BUY = 0, SELL = 1\r\n        price: Number(lowest[0].substring(2, 10)),\r\n        quantity: getBatches(batch_size),\r\n        priceType: 1, // MARKET = 0, LIMIT = 1\r\n        timeRestriction: 0, // ROD = 0, IOC = 1, FOK = 2\r\n      });\r\n      break;\r\n\r\n    // 市價單\r\n    case \"M\":\r\n      // console.log(\"Market order\");\r\n      sendOrderApi({\r\n        investorId: 1,\r\n        stockId: 1,\r\n        method: type == \"B\" ? 0 : 1, // BUY = 0, SELL = 1\r\n        price: 0,\r\n        quantity: getBatches(batch_size),\r\n        priceType: 0, // MARKET = 0, LIMIT = 1\r\n        timeRestriction: 0, // ROD = 0, IOC = 1, FOK = 2\r\n      });\r\n      break;\r\n\r\n    // 取消單\r\n    case \"C\":\r\n      defaultAxios({\r\n        url: api.getOrder.url,\r\n        method: api.getOrder.method,\r\n      }).then((res) => {\r\n        const orderData = res.data;\r\n        // console.log(\"order datas\", orderData);\r\n        let content = orderData.content.filter(function (data) {\r\n          return data.price == lowest[0].substring(2, 10);\r\n        });\r\n\r\n        let randomProperty = function (obj) {\r\n          let keys = Object.keys(obj);\r\n          return obj[keys[(keys.length * Math.random()) << 0]];\r\n        };\r\n        let random = randomProperty(content);\r\n        if (random) {\r\n          // console.log(\"randomProperty\", random);\r\n\r\n          sendCancelApi({\r\n            id: random.id,\r\n            quantity: getBatches(batch_size),\r\n          });\r\n        }\r\n      });\r\n\r\n      break;\r\n  }\r\n  return next;\r\n};\r\n","import { configConsumerProps } from \"antd/lib/config-provider\";\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport { renderData } from \"./math-model\";\r\nimport { defaultAxios, api } from \"../../../environment/api\";\r\nimport { Slider } from 'antd';\r\n\r\nexport default function Settings({ buttonStatus = \"stop\" }) {\r\n  const isFirst = useRef(true);\r\n  const displayData = useRef();\r\n  const timeSet = useRef();\r\n  const [nextTime, setNextTime] = useState(0);\r\n\r\n  const [setting, setSetting] = useState({\r\n    default_lambda_B: 10,\r\n    default_lambda_A: 10,\r\n    R_B: 0.8,\r\n    R_A: 0.8,\r\n    default_theta_B: 10,\r\n    default_theta_A: 10,\r\n    R_theta_B: 0.8,\r\n    R_theta_A: 0.8,\r\n    mu_B: 10,\r\n    mu_A: 10,\r\n    batch_size: 10\r\n  });\r\n  useEffect(() => {\r\n    defaultAxios({\r\n      url: api.getDisplay.url,\r\n      method: api.getDisplay.method,\r\n      params: {\r\n        isGetLatest: true,\r\n      },\r\n    }).then((res) => {\r\n      displayData.current = res.data;\r\n      setNextTime(renderData(setting, res.data));\r\n    });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (nextTime && buttonStatus !== \"stop\") {\r\n      setTimeout(() => {\r\n        setNextTime(() => renderData(setting, displayData.current));\r\n      }, nextTime);\r\n    }\r\n  }, [nextTime, buttonStatus]);\r\n\r\n  const handleInputChangeLambdaB = (value) => {\r\n    setSetting({ ...setting, default_lambda_B: value });\r\n  };\r\n\r\n  const handleInputChangeLambdaA = (value) => {\r\n    setSetting({ ...setting, default_lambda_A: value });\r\n  };\r\n\r\n  const handleInputChangeLambdaRatioB = (value) => {\r\n    setSetting({ ...setting, R_B: value });\r\n  };\r\n\r\n  const handleInputChangeLambdaRatioA = (value) => {\r\n    setSetting({ ...setting, R_A: value });\r\n  };\r\n\r\n  const handleInputChangeThetaB = (value) => {\r\n    setSetting({ ...setting, default_theta_B: value });\r\n  };\r\n\r\n  const handleInputChangeThetaA = (value) => {\r\n    setSetting({ ...setting, default_theta_A: value });\r\n  };\r\n\r\n  const handleInputChangeThetaRatioB = (value) => {\r\n    setSetting({ ...setting, R_theta_B: value });\r\n  };\r\n\r\n  const handleInputChangeThetaRatioA = (value) => {\r\n    setSetting({ ...setting, R_theta_A: value });\r\n  };\r\n\r\n  const handleInputChangeMuB = (value) => {\r\n    setSetting({ ...setting, mu_B: value });\r\n  };\r\n\r\n  const handleInputChangeMuA = (value) => {\r\n    setSetting({ ...setting, mu_A: value });\r\n  };\r\n\r\n  const handleInputChangeBatchSize = (value) => {\r\n    setSetting({ ...setting, batch_size: value });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"flex justify-center\">\r\n        <div className=\"w-1/2\">\r\n          <div>\r\n            batch size: {setting.batch_size}\r\n          </div>\r\n          <Slider\r\n            min={1}\r\n            max={100}\r\n            step={1}\r\n            value={setting.batch_size}\r\n            onChange={handleInputChangeBatchSize}\r\n            />\r\n        </div>\r\n      </div>\r\n      <div className=\"flex justify-center mx-5\">\r\n        <div className=\"mr-5 pr-5 border-r w-1/4\">\r\n          <div>\r\n            <div>\r\n              λ<sub>B</sub>: {setting.default_lambda_B}\r\n            </div>\r\n            <Slider\r\n              min={1}\r\n              max={100}\r\n              step={0.1}\r\n              value={setting.default_lambda_B}\r\n              onChange={handleInputChangeLambdaB}\r\n              />\r\n          </div>\r\n          <div>\r\n            <div>\r\n              R<sub>B</sub>: {setting.R_B}\r\n            </div>\r\n            <Slider\r\n              min={0.1}\r\n              max={5}\r\n              step={0.1}\r\n              value={setting.R_B}\r\n              onChange={handleInputChangeLambdaRatioB}\r\n            />\r\n          </div>\r\n          <hr className=\"my-3\" />\r\n          <div>\r\n            <div>\r\n              θ<sub>B</sub>: {setting.default_theta_B}\r\n            </div>\r\n            <Slider\r\n              min={1}\r\n              max={100}\r\n              step={0.1}\r\n              value={setting.default_theta_B}\r\n              onChange={handleInputChangeThetaB}\r\n            />\r\n          </div>\r\n          <div>\r\n            <div>\r\n              R<sub>B</sub>: {setting.R_theta_B}\r\n            </div>\r\n            <Slider\r\n              min={0.1}\r\n              max={5}\r\n              step={0.1}\r\n              value={setting.R_theta_B}\r\n              onChange={handleInputChangeThetaRatioB}\r\n            />\r\n          </div>\r\n          <hr className=\"my-3\" />\r\n          <div>\r\n            <div>\r\n              μ<sub>B</sub>: {setting.mu_B}\r\n            </div>\r\n            <Slider\r\n              min={1}\r\n              max={100}\r\n              step={0.1}\r\n              value={setting.mu_B}\r\n              onChange={handleInputChangeMuB}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"w-1/4\">\r\n        <div>\r\n          <div>\r\n            λ<sub>A</sub>: {setting.default_lambda_A}\r\n          </div>\r\n          <Slider\r\n            min={1}\r\n            max={100}\r\n            step={0.1}\r\n            value={setting.default_lambda_A}\r\n            onChange={handleInputChangeLambdaA}\r\n          />\r\n        </div>\r\n        <div>\r\n          <div>\r\n            R<sub>A</sub>: {setting.R_A}\r\n          </div>\r\n          <Slider\r\n            min={0.1}\r\n            max={5}\r\n            step={0.1}\r\n            value={setting.R_A}\r\n            onChange={handleInputChangeLambdaRatioA}\r\n          />\r\n        </div>\r\n        <hr className=\"my-3\" />\r\n        <div>\r\n          <div>\r\n            θ<sub>A</sub>: {setting.default_theta_A}\r\n          </div>\r\n          <Slider\r\n            min={1}\r\n            max={100}\r\n            step={0.1}\r\n            value={setting.default_theta_A}\r\n            onChange={handleInputChangeThetaA}\r\n          />\r\n        </div>\r\n        <div>\r\n          <div>\r\n            R<sub>A</sub>: {setting.R_theta_A}\r\n          </div>\r\n          <Slider\r\n            min={0.1}\r\n            max={5}\r\n            step={0.1}\r\n            value={setting.R_theta_A}\r\n            onChange={handleInputChangeThetaRatioA}\r\n          />\r\n        </div>\r\n        <hr className=\"my-3\" />\r\n        <div>\r\n          <div>\r\n            μ<sub>A</sub>: {setting.mu_A}\r\n          </div>\r\n          <Slider\r\n            min={1}\r\n            max={100}\r\n            step={0.1}\r\n            value={setting.mu_A}\r\n            onChange={handleInputChangeMuA}\r\n          />\r\n        </div>\r\n      </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","export const data = splitData([\r\n  [\"2013/1/24\", 2320.26, 2320.26, 2287.3, 2362.94],\r\n  [\"2013/1/25\", 2300, 2291.3, 2288.26, 2308.38],\r\n  [\"2013/1/28\", 2295.35, 2346.5, 2295.35, 2346.92],\r\n  [\"2013/1/29\", 2347.22, 2358.98, 2337.35, 2363.8],\r\n  [\"2013/1/30\", 2360.75, 2382.48, 2347.89, 2383.76],\r\n  [\"2013/1/31\", 2383.43, 2385.42, 2371.23, 2391.82],\r\n  [\"2013/2/1\", 2377.41, 2419.02, 2369.57, 2421.15],\r\n  [\"2013/2/4\", 2425.92, 2428.15, 2417.58, 2440.38],\r\n  [\"2013/2/5\", 2411, 2433.13, 2403.3, 2437.42],\r\n  [\"2013/2/6\", 2432.68, 2434.48, 2427.7, 2441.73],\r\n  [\"2013/2/7\", 2430.69, 2418.53, 2394.22, 2433.89],\r\n  [\"2013/2/8\", 2416.62, 2432.4, 2414.4, 2443.03],\r\n  [\"2013/2/18\", 2441.91, 2421.56, 2415.43, 2444.8],\r\n  [\"2013/2/19\", 2420.26, 2382.91, 2373.53, 2427.07],\r\n  [\"2013/2/20\", 2383.49, 2397.18, 2370.61, 2397.94],\r\n  [\"2013/2/21\", 2378.82, 2325.95, 2309.17, 2378.82],\r\n  [\"2013/2/22\", 2322.94, 2314.16, 2308.76, 2330.88],\r\n  [\"2013/2/25\", 2320.62, 2325.82, 2315.01, 2338.78],\r\n  [\"2013/2/26\", 2313.74, 2293.34, 2289.89, 2340.71],\r\n  [\"2013/2/27\", 2297.77, 2313.22, 2292.03, 2324.63],\r\n  [\"2013/2/28\", 2322.32, 2365.59, 2308.92, 2366.16],\r\n  [\"2013/3/1\", 2364.54, 2359.51, 2330.86, 2369.65],\r\n  [\"2013/3/4\", 2332.08, 2273.4, 2259.25, 2333.54],\r\n  [\"2013/3/5\", 2274.81, 2326.31, 2270.1, 2328.14],\r\n  [\"2013/3/6\", 2333.61, 2347.18, 2321.6, 2351.44],\r\n  [\"2013/3/7\", 2340.44, 2324.29, 2304.27, 2352.02],\r\n  [\"2013/3/8\", 2326.42, 2318.61, 2314.59, 2333.67],\r\n  [\"2013/3/11\", 2314.68, 2310.59, 2296.58, 2320.96],\r\n  [\"2013/3/12\", 2309.16, 2286.6, 2264.83, 2333.29],\r\n  [\"2013/3/13\", 2282.17, 2263.97, 2253.25, 2286.33],\r\n  [\"2013/3/14\", 2255.77, 2270.28, 2253.31, 2276.22],\r\n  [\"2013/3/15\", 2269.31, 2278.4, 2250, 2312.08],\r\n  [\"2013/3/18\", 2267.29, 2240.02, 2239.21, 2276.05],\r\n  [\"2013/3/19\", 2244.26, 2257.43, 2232.02, 2261.31],\r\n  [\"2013/3/20\", 2257.74, 2317.37, 2257.42, 2317.86],\r\n  [\"2013/3/21\", 2318.21, 2324.24, 2311.6, 2330.81],\r\n  [\"2013/3/22\", 2321.4, 2328.28, 2314.97, 2332],\r\n  [\"2013/3/25\", 2334.74, 2326.72, 2319.91, 2344.89],\r\n  [\"2013/3/26\", 2318.58, 2297.67, 2281.12, 2319.99],\r\n  [\"2013/3/27\", 2299.38, 2301.26, 2289, 2323.48],\r\n  [\"2013/3/28\", 2273.55, 2236.3, 2232.91, 2273.55],\r\n  [\"2013/3/29\", 2238.49, 2236.62, 2228.81, 2246.87],\r\n  [\"2013/4/1\", 2229.46, 2234.4, 2227.31, 2243.95],\r\n  [\"2013/4/2\", 2234.9, 2227.74, 2220.44, 2253.42],\r\n  [\"2013/4/3\", 2232.69, 2225.29, 2217.25, 2241.34],\r\n  [\"2013/4/8\", 2196.24, 2211.59, 2180.67, 2212.59],\r\n  [\"2013/4/9\", 2215.47, 2225.77, 2215.47, 2234.73],\r\n  [\"2013/4/10\", 2224.93, 2226.13, 2212.56, 2233.04],\r\n  [\"2013/4/11\", 2236.98, 2219.55, 2217.26, 2242.48],\r\n  [\"2013/4/12\", 2218.09, 2206.78, 2204.44, 2226.26],\r\n  [\"2013/4/15\", 2199.91, 2181.94, 2177.39, 2204.99],\r\n  [\"2013/4/16\", 2169.63, 2194.85, 2165.78, 2196.43],\r\n  [\"2013/4/17\", 2195.03, 2193.8, 2178.47, 2197.51],\r\n  [\"2013/4/18\", 2181.82, 2197.6, 2175.44, 2206.03],\r\n  [\"2013/4/19\", 2201.12, 2244.64, 2200.58, 2250.11],\r\n  [\"2013/4/22\", 2236.4, 2242.17, 2232.26, 2245.12],\r\n  [\"2013/4/23\", 2242.62, 2184.54, 2182.81, 2242.62],\r\n  [\"2013/4/24\", 2187.35, 2218.32, 2184.11, 2226.12],\r\n  [\"2013/4/25\", 2213.19, 2199.31, 2191.85, 2224.63],\r\n  [\"2013/4/26\", 2203.89, 2177.91, 2173.86, 2210.58],\r\n  [\"2013/5/2\", 2170.78, 2174.12, 2161.14, 2179.65],\r\n  [\"2013/5/3\", 2179.05, 2205.5, 2179.05, 2222.81],\r\n  [\"2013/5/6\", 2212.5, 2231.17, 2212.5, 2236.07],\r\n  [\"2013/5/7\", 2227.86, 2235.57, 2219.44, 2240.26],\r\n  [\"2013/5/8\", 2242.39, 2246.3, 2235.42, 2255.21],\r\n  [\"2013/5/9\", 2246.96, 2232.97, 2221.38, 2247.86],\r\n  [\"2013/5/10\", 2228.82, 2246.83, 2225.81, 2247.67],\r\n  [\"2013/5/13\", 2247.68, 2241.92, 2231.36, 2250.85],\r\n  [\"2013/5/14\", 2238.9, 2217.01, 2205.87, 2239.93],\r\n  [\"2013/5/15\", 2217.09, 2224.8, 2213.58, 2225.19],\r\n  [\"2013/5/16\", 2221.34, 2251.81, 2210.77, 2252.87],\r\n  [\"2013/5/17\", 2249.81, 2282.87, 2248.41, 2288.09],\r\n  [\"2013/5/20\", 2286.33, 2299.99, 2281.9, 2309.39],\r\n  [\"2013/5/21\", 2297.11, 2305.11, 2290.12, 2305.3],\r\n  [\"2013/5/22\", 2303.75, 2302.4, 2292.43, 2314.18],\r\n  [\"2013/5/23\", 2293.81, 2275.67, 2274.1, 2304.95],\r\n  [\"2013/5/24\", 2281.45, 2288.53, 2270.25, 2292.59],\r\n  [\"2013/5/27\", 2286.66, 2293.08, 2283.94, 2301.7],\r\n  [\"2013/5/28\", 2293.4, 2321.32, 2281.47, 2322.1],\r\n  [\"2013/5/29\", 2323.54, 2324.02, 2321.17, 2334.33],\r\n  [\"2013/5/30\", 2316.25, 2317.75, 2310.49, 2325.72],\r\n  [\"2013/5/31\", 2320.74, 2300.59, 2299.37, 2325.53],\r\n  [\"2013/6/3\", 2300.21, 2299.25, 2294.11, 2313.43],\r\n  [\"2013/6/4\", 2297.1, 2272.42, 2264.76, 2297.1],\r\n  [\"2013/6/5\", 2270.71, 2270.93, 2260.87, 2276.86],\r\n  [\"2013/6/6\", 2264.43, 2242.11, 2240.07, 2266.69],\r\n  [\"2013/6/7\", 2242.26, 2210.9, 2205.07, 2250.63],\r\n  [\"2013/6/13\", 2190.1, 2148.35, 2126.22, 2190.1],\r\n]);\r\nfunction splitData(rawData) {\r\n  var categoryData = [];\r\n  var values = [];\r\n  for (var i = 0; i < rawData.length; i++) {\r\n    categoryData.push(rawData[i].splice(0, 1)[0]);\r\n    values.push(rawData[i]);\r\n  }\r\n  return {\r\n    categoryData: categoryData,\r\n    values: values,\r\n  };\r\n}","import React, { useEffect, useState } from \"react\";\r\nimport ReactECharts from \"echarts-for-react\";\r\nimport { data } from \"../mock-data\";\r\n\r\nconst BarChart = ({ originData = {}, showType }) => {\r\n  const [yAxisMax, setYAxisMax] = useState(10);\r\n  const [data, setData] = useState({});\r\n  const [center, setCenter] = useState(0);\r\n  function showValue() {\r\n    let xAxis = [],\r\n      series = [],\r\n      centerBuffer = 0,\r\n      tickRange = (originData.tickRange || []).sort(\r\n        (a, b) => a.price - b.price\r\n      ),\r\n      fiveTickRange = (originData.fiveTickRange || []).sort(\r\n        (a, b) => a.price - b.price\r\n      );\r\n    switch (showType) {\r\n      case \"all\": {\r\n        tickRange.forEach((obj) => {\r\n          xAxis.push(obj.price);\r\n          series.push(\r\n            obj.sellQuantity\r\n              ? obj.sellQuantity\r\n              : obj.buyQuantity\r\n              ? -obj.buyQuantity\r\n              : 0\r\n          );\r\n        });\r\n        break;\r\n      }\r\n      case \"allfive\": {\r\n        fiveTickRange.forEach((obj, index) => {\r\n          xAxis.push(obj.price);\r\n          series.push(\r\n            obj.sellQuantity\r\n              ? obj.sellQuantity\r\n              : obj.buyQuantity\r\n              ? -obj.buyQuantity\r\n              : 0\r\n          );\r\n          if (index === 4) {\r\n            console.log(\"dec\");\r\n            let b1 = fiveTickRange[index].price,\r\n              a1 = fiveTickRange[index + 1].price;\r\n            while (a1 - b1 > 0.5) {\r\n              console.log(\"decyes\", b1, a1);\r\n              b1 += 0.5;\r\n              centerBuffer++;\r\n              xAxis.push(b1);\r\n              series.push(\"0\");\r\n            }\r\n          }\r\n        });\r\n        break;\r\n      }\r\n      case \"buyfive\": {\r\n        fiveTickRange.forEach((obj) => {\r\n          if (obj.buyQuantity !== undefined) {\r\n            xAxis.push(obj.price);\r\n            series.push(-obj.buyQuantity);\r\n          }\r\n        });\r\n        break;\r\n      }\r\n      case \"sellfive\": {\r\n        fiveTickRange.forEach((obj) => {\r\n          if (obj.sellQuantity !== undefined) {\r\n            xAxis.push(obj.price);\r\n            series.push(obj.sellQuantity);\r\n          }\r\n        });\r\n        break;\r\n      }\r\n      default:\r\n        break;\r\n    }\r\n    setCenter(centerBuffer);\r\n    return { xAxis, series };\r\n  }\r\n\r\n  useEffect(() => {\r\n    setData(showValue());\r\n  }, [originData, showType]);\r\n\r\n  useEffect(() => {\r\n    if (data?.series?.length) {\r\n      let max = 10;\r\n      data.series.forEach((deta) => {\r\n        if (Math.abs(deta) > max) max = Math.abs(deta);\r\n      });\r\n      setYAxisMax(max);\r\n    }\r\n  }, [data]);\r\n  const options = {\r\n    tooltip: {\r\n      trigger: \"axis\",\r\n      axisPointer: {\r\n        type: \"shadow\",\r\n      },\r\n      formatter: (param) => {\r\n        if (typeof param[0].data === \"string\") return \"\";\r\n        return (\r\n          \"Price: \" +\r\n          param[0].name +\r\n          \"<br/>\" +\r\n          param[0].seriesName +\r\n          \" : \" +\r\n          Math.abs(param[0].data)\r\n        );\r\n      },\r\n    },\r\n    grid: {\r\n      left: \"3%\",\r\n      right: \"4%\",\r\n      bottom: \"3%\",\r\n      containLabel: true,\r\n    },\r\n    xAxis: [\r\n      {\r\n        type: \"category\",\r\n        data: data.xAxis,\r\n      },\r\n    ],\r\n    yAxis: [\r\n      {\r\n        type: \"value\",\r\n        splitNumber: 10,\r\n        max: yAxisMax,\r\n        min: -yAxisMax,\r\n        axisLabel: {\r\n          formatter: (value) => {\r\n            return Math.abs(value);\r\n          },\r\n        },\r\n      },\r\n    ],\r\n    series: [\r\n      {\r\n        name: \"委託量\",\r\n        type: \"bar\",\r\n        data: data.series,\r\n        itemStyle: {\r\n          color: (param) => {\r\n            return param.data > 0 ? \"green\" : \"red\";\r\n          },\r\n        },\r\n        markPoint: {\r\n          symbol: \"rect\",\r\n          symbolSize: 40,\r\n          itemStyle: {\r\n            color: \"rgba(0,0,0,0.2)\",\r\n          },\r\n          data: new Array(center).fill(0).map((e, index) => {\r\n            console.log(index,e,'dec')\r\n            return { xAxis: index + 5, yAxis: 0, symbolSize:[50,300] };\r\n          }),\r\n        },\r\n      },\r\n      // {\r\n      //   name: \"委託量(buy)\",\r\n      //   type: \"bar\",\r\n      //   data: data.buySeries,\r\n      //   itemStyle: { color: \"red\" },\r\n      // },\r\n    ],\r\n  };\r\n  return <ReactECharts option={options} />;\r\n};\r\n\r\nexport default BarChart;\r\n","import React from \"react\";\r\nimport ReactECharts from \"echarts-for-react\";\r\nimport { data } from \"../mock-data\";\r\n\r\nconst BarLineChart = ({ data = { xAxis: [], price: [], quantity: [] } }) => {\r\n  const options = {\r\n    tooltip: {\r\n      trigger: \"axis\",\r\n      axisPointer: {\r\n        type: \"cross\",\r\n        label: {\r\n          backgroundColor: \"#283b56\",\r\n        },\r\n      },\r\n    },\r\n    grid: {\r\n      left: \"3%\",\r\n      right: \"4%\",\r\n      containLabel: true,\r\n    },\r\n    // toolbox: {\r\n    //   show: true,\r\n    //   feature: {\r\n    //     dataView: { readOnly: false },\r\n    //     restore: {},\r\n    //     saveAsImage: {},\r\n    //   },\r\n    // },\r\n    xAxis: [\r\n      {\r\n        type: \"category\",\r\n        boundaryGap: true,\r\n        data: data.xAxis,\r\n      },\r\n    ],\r\n    yAxis: [\r\n      {\r\n        type: \"value\",\r\n        scale: true,\r\n        name: \"成交價\",\r\n      },\r\n      {\r\n        type: \"value\",\r\n        scale: true,\r\n        name: \"成交量\",\r\n      },\r\n    ],\r\n    dataZoom: [\r\n      {\r\n        show: true,\r\n        realtime: true,\r\n        start: 0,\r\n        end: 100,\r\n      },\r\n    ],\r\n    series: [\r\n      {\r\n        name: \"成交價\",\r\n        type: \"line\",\r\n        step: \"end\",\r\n        data: data.price,\r\n      },\r\n      {\r\n        name: \"最佳買價\",\r\n        type: \"line\",\r\n        step: \"end\",\r\n        data: data.buy,\r\n      },\r\n      {\r\n        name: \"最佳賣價\",\r\n        type: \"line\",\r\n        step: \"end\",\r\n        data: data.sell,\r\n      },\r\n      {\r\n        name: \"成交量\",\r\n        type: \"bar\",\r\n        yAxisIndex: 1,\r\n        data: data.quantity,\r\n      },\r\n    ],\r\n  };\r\n\r\n  return <ReactECharts option={options} />;\r\n};\r\n\r\nexport default BarLineChart;\r\n","import React, { useEffect, useRef, useState } from \"react\";\r\nimport Settings from \"./settings\";\r\nimport BarChart from \"../echart-example/bar\";\r\nimport BarLineChart from \"../echart-example/bar-line\";\r\nimport { defaultAxios, api } from \"../../environment/api\";\r\nimport { Button, Input, Select } from \"antd\";\r\n\r\nconst AutoChart = () => {\r\n  const chartRecord = useRef();\r\n  const [originData, setOriginData] = useState({});\r\n  const [buttonStatus, setButtonStatus] = useState(\"stop\");\r\n  const [showType, setShowType] = useState(\"all\");\r\n  const [frequency, setFrequency] = useState(1);\r\n  const [timeChart, setTimeChart] = useState({\r\n    xAxis: [],\r\n    price: [],\r\n    quantity: [],\r\n    buy: [],\r\n    sell: [],\r\n  });\r\n  useEffect(() => {\r\n    clearInterval(chartRecord.current);\r\n    function renderData() {\r\n      defaultAxios({\r\n        url: api.getDisplay.url,\r\n        method: api.getDisplay.method,\r\n        params: {\r\n          isGetLatest: true,\r\n        },\r\n      }).then((res) => {\r\n        const data = res.data;\r\n        setOriginData(() => data);\r\n      });\r\n      defaultAxios({\r\n        url: api.getDisplayChart.url,\r\n        method: api.getDisplayChart.method,\r\n        params: {\r\n          stockId: 1,\r\n          dateFormat: 0,\r\n        },\r\n      }).then((res) => {\r\n        const xAxis = [],\r\n          price = [],\r\n          quantity = [],\r\n          buy = [],\r\n          sell = [];\r\n        res.data.forEach((deta) => {\r\n          xAxis.push(deta.createdTime);\r\n          price.push(deta.close);\r\n          quantity.push(deta.quantity);\r\n          buy.push(deta.firstOrderBuy);\r\n          sell.push(deta.firstOrderSell);\r\n        });\r\n        setTimeChart({\r\n          xAxis,\r\n          price,\r\n          quantity,\r\n          buy,\r\n          sell,\r\n        });\r\n\r\n        console.log(res.data);\r\n      });\r\n    }\r\n    if (buttonStatus === \"start\") {\r\n      chartRecord.current = setInterval(() => {\r\n        renderData();\r\n      }, frequency * 1000);\r\n    }\r\n    return () => {\r\n      clearInterval(chartRecord.current);\r\n    };\r\n  }, [buttonStatus, frequency]);\r\n\r\n  return (\r\n    <div>\r\n      <BarChart originData={originData} showType={showType} />\r\n      <div className=\"flex justify-around my-6 items-center\">\r\n        <div>\r\n          圖表模式\r\n          <Select\r\n            value={showType}\r\n            style={{ width: 120, marginLeft: \"20px\" }}\r\n            onChange={(value) => {\r\n              setShowType(value);\r\n            }}\r\n            options={[\r\n              {\r\n                label: \"全部\",\r\n                value: \"all\",\r\n              },\r\n              {\r\n                label: \"買賣五檔\",\r\n                value: \"allfive\",\r\n              },\r\n              {\r\n                label: \"買五檔\",\r\n                value: \"buyfive\",\r\n              },\r\n              {\r\n                label: \"賣五檔\",\r\n                value: \"sellfive\",\r\n              },\r\n            ]}\r\n          />\r\n        </div>\r\n        目前狀態: {buttonStatus}\r\n      </div>\r\n      <BarLineChart data={timeChart} />\r\n      <div className=\"flex justify-around my-6 items-center\">\r\n        <Button type=\"primary\" onClick={() => setButtonStatus(\"start\")}>\r\n          開始模擬\r\n        </Button>\r\n        <Button\r\n          style={{ background: \"#91A194\", color: \"white\" }}\r\n          onClick={() => setButtonStatus(\"stop\")}\r\n        >\r\n          暫停模擬\r\n        </Button>\r\n        <Button\r\n          type=\"primary\"\r\n          danger\r\n          onClick={() => {\r\n            defaultAxios({\r\n              url: api.resetStock.url,\r\n              method: api.resetStock.method,\r\n              data: {\r\n                id: 1,\r\n                isReset: true,\r\n              },\r\n            });\r\n            setOriginData({});\r\n            setButtonStatus(\"stop\");\r\n          }}\r\n        >\r\n          重製模擬\r\n        </Button>\r\n        <div>\r\n          圖表更新頻率(s)\r\n          <Input\r\n            type=\"number\"\r\n            max={10}\r\n            min={0.1}\r\n            value={frequency}\r\n            step={0.1}\r\n            onChange={(e) => {\r\n              setFrequency(e.target.value);\r\n            }}\r\n          />\r\n        </div>\r\n      </div>\r\n      <Settings buttonStatus={buttonStatus} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AutoChart;\r\n","import React, { useEffect } from \"react\";\r\nimport { Modal, Form, Input, Select } from \"antd\";\r\nimport { defaultAxios, api } from \"../../environment/api\";\r\n\r\nconst Create = ({ visible, setVisible, defaultValue, reset }) => {\r\n  const [form] = Form.useForm();\r\n  useEffect(() => {\r\n    console.log(defaultValue);\r\n    if (defaultValue) {\r\n      form.setFieldsValue(defaultValue);\r\n    }\r\n  }, [defaultValue]);\r\n  return (\r\n    <Modal\r\n      title={defaultValue ? \"修改情境\" : \"新增情境\"}\r\n      visible={visible}\r\n      onOk={() => {\r\n        form.submit();\r\n      }}\r\n      onCancel={() => {\r\n        form.resetFields();\r\n        setVisible(false);\r\n        console.log(\"cancel\");\r\n      }}\r\n      okText=\"確認\"\r\n      cancelText=\"取消\"\r\n    >\r\n      <Form\r\n        name=\"basic\"\r\n        layout=\"vertical\"\r\n        form={form}\r\n        onFinish={(value) => {\r\n          if (defaultValue) {\r\n            defaultAxios({\r\n              url: api.putContainer.url,\r\n              method: api.putContainer.method,\r\n              data: { ...value, id: defaultValue.id },\r\n            }).finally(() => {\r\n              reset(Math.random());\r\n              form.resetFields();\r\n              setVisible(false);\r\n            });\r\n          } else {\r\n            defaultAxios({\r\n              url: api.postContainer.url,\r\n              method: api.postContainer.method,\r\n              data: value,\r\n            }).finally(() => {\r\n              reset(Math.random());\r\n              form.resetFields();\r\n              setVisible(false);\r\n            });\r\n          }\r\n\r\n          console.log(value);\r\n        }}\r\n        initialValues={{ remember: true }}\r\n      >\r\n        <Form.Item\r\n          label=\"情境名稱\"\r\n          name=\"name\"\r\n          rules={[{ required: true, message: \"請輸入情境\" }]}\r\n        >\r\n          <Input placeholder=\"請輸入情境名稱\" />\r\n        </Form.Item>\r\n        <Form.Item\r\n          label=\"股票id\"\r\n          name=\"stockId\"\r\n          rules={[{ required: true, message: \"請選擇股票\" }]}\r\n        >\r\n          <Select\r\n            placeholder=\"請選擇股票\"\r\n            options={[{ value: 1, label: \"1號股票\" }]}\r\n          />\r\n        </Form.Item>\r\n      </Form>\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default Create;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { defaultAxios, api } from \"../../environment/api\";\r\nimport { Table, Button, Row, Col, Select, Input, Typography } from \"antd\";\r\nimport { EditOutlined, DeleteOutlined } from \"@ant-design/icons\";\r\nimport Create from \"./create\";\r\nimport dayjs from \"dayjs\";\r\nconst { Search } = Input;\r\nconst { Title } = Typography;\r\nconst Case = () => {\r\n  const [orederData, setOrderData] = useState([]);\r\n  const [page, setPage] = useState(1);\r\n  const [pageSize, setPageSize] = useState(20);\r\n  const [totalSize, setTotalSize] = useState(0);\r\n  const [visible, setVisible] = useState(false);\r\n  const [reset, setReset] = useState(0);\r\n  const [editValue, setEditValue] = useState();\r\n  const [checked, setChecked] = useState([]);\r\n  const [searchCondition, setSearchCondition] = useState({});\r\n  useEffect(() => {\r\n    defaultAxios({\r\n      url: api.getContainer.url,\r\n      method: api.getContainer.method,\r\n      params: {\r\n        ...searchCondition,\r\n        page: { page, pageSize },\r\n      },\r\n    }).then((res) => {\r\n      console.log(res.data);\r\n      setOrderData(res.data.content);\r\n      setTotalSize(res.data.totalSize);\r\n    });\r\n  }, [page, pageSize, reset]);\r\n  const rowSelection = {\r\n    selectedRowKeys: checked,\r\n    onChange: (selectedRowKeys, selectedRows) => {\r\n      setChecked(selectedRows.map((deta) => deta.id));\r\n    },\r\n    preserveSelectedRowKeys: false,\r\n  };\r\n  return (\r\n    <div className=\"px-10\">\r\n      <Create\r\n        visible={visible}\r\n        setVisible={setVisible}\r\n        reset={setReset}\r\n        defaultValue={editValue}\r\n      />\r\n      <Title level={5}>條件搜尋</Title>\r\n      <Row\r\n        className=\"mb-4 border border-gray-200 p-4\"\r\n        justify=\"space-around\"\r\n        align=\"bottom\"\r\n      >\r\n        <Col span={6}>\r\n          情境名稱\r\n          <Input\r\n            placeholder=\"輸入名稱\"\r\n            size=\"middle\"\r\n            onChange={(e) => {\r\n              setSearchCondition({\r\n                ...searchCondition,\r\n                name: e.target.value,\r\n              });\r\n            }}\r\n          />\r\n        </Col>\r\n        <Col span={6}>\r\n          股票名稱\r\n          <Select\r\n            placeholder=\"選擇特定股票\"\r\n            size=\"middle\"\r\n            className=\"w-full\"\r\n            options={[{ value: 1, label: \"1號股票\" }]}\r\n            onChange={(e) => {\r\n              console.log(e);\r\n              setSearchCondition({\r\n                ...searchCondition,\r\n                stockId: e,\r\n              });\r\n            }}\r\n          />\r\n        </Col>\r\n        <Col span={2}>\r\n          <Button\r\n            onClick={() => {\r\n              setReset(Math.random());\r\n            }}\r\n          >\r\n            搜尋\r\n          </Button>\r\n        </Col>\r\n      </Row>\r\n      <div className=\"flex justify-end my-5\">\r\n        <Button\r\n          disabled={!checked.length}\r\n          type=\"default\"\r\n          className=\"mr-4\"\r\n          onClick={() => {\r\n            defaultAxios({\r\n              url: api.deleteContainer.url,\r\n              method: api.deleteContainer.method,\r\n              data: {\r\n                id: checked,\r\n              },\r\n            }).finally(() => {\r\n              setChecked([]);\r\n              setReset(Math.random());\r\n            });\r\n          }}\r\n        >\r\n          刪除勾選\r\n        </Button>\r\n        <Button\r\n          type=\"primary\"\r\n          onClick={() => {\r\n            setEditValue(null);\r\n            setVisible(true);\r\n          }}\r\n        >\r\n          新增情境\r\n        </Button>\r\n      </div>\r\n      <Table\r\n        rowKey={(record) => record.id}\r\n        rowSelection={{\r\n          type: \"checkbox\",\r\n          ...rowSelection,\r\n        }}\r\n        columns={[\r\n          // {\r\n          //   title: \"id\",\r\n          //   dataIndex: \"id\",\r\n          //   render: (data) => <span>{data || \"NULL\"}</span>,\r\n          //   sorter: (a, b) => a.id - b.id,\r\n          // },\r\n          {\r\n            title: \"股票 ID\",\r\n            dataIndex: \"stockId\",\r\n          },\r\n          {\r\n            title: \"情境名稱\",\r\n            dataIndex: \"name\",\r\n          },\r\n          {\r\n            title: \"創建時間\",\r\n            dataIndex: \"createdTime\",\r\n            width: 200,\r\n            render: (data) => (\r\n              <span>{dayjs(data).format(\"YYYY/MM/DD HH:mm:ss\")}</span>\r\n            ),\r\n          },\r\n          {\r\n            title: \"更新時間\",\r\n            dataIndex: \"updatedTime\",\r\n            width: 200,\r\n            render: (data) => (\r\n              <span>{dayjs(data).format(\"YYYY/MM/DD HH:mm:ss\")}</span>\r\n            ),\r\n          },\r\n          {\r\n            title: \"狀態\",\r\n            dataIndex: \"action\",\r\n            render: (data, record) => (\r\n              <span>\r\n                <Button\r\n                  type=\"link\"\r\n                  shape=\"circle\"\r\n                  className=\"inline-flex justify-center items-center mr-2\"\r\n                  icon={<EditOutlined />}\r\n                  onClick={() => {\r\n                    console.log(record, \"data\");\r\n                    setEditValue({\r\n                      id: record.id,\r\n                      name: record.name,\r\n                      stockId: record.stockId,\r\n                    });\r\n                    setVisible(true);\r\n                  }}\r\n                />\r\n                <Button\r\n                  type=\"link\"\r\n                  shape=\"circle\"\r\n                  className=\"inline-flex justify-center items-center\"\r\n                  onClick={() => {\r\n                    defaultAxios({\r\n                      url: api.deleteContainer.url,\r\n                      method: api.deleteContainer.method,\r\n                      data: {\r\n                        id: [record.id],\r\n                      },\r\n                    }).finally(() => {\r\n                      setReset(Math.random());\r\n                    });\r\n                  }}\r\n                  icon={<DeleteOutlined />}\r\n                />\r\n              </span>\r\n            ),\r\n          },\r\n        ]}\r\n        dataSource={orederData}\r\n        pagination={{\r\n          pageSize: pageSize,\r\n          total: totalSize,\r\n          onChange: (page) => {\r\n            setPage(page);\r\n          },\r\n          onShowSizeChange: (cur, size) => {\r\n            setPageSize(size);\r\n          },\r\n        }}\r\n        sticky\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Case;\r\n","import React from \"react\";\r\nimport ReactECharts from \"echarts-for-react\";\r\nimport { data } from \"../mock-data\";\r\n\r\nfunction calculateMA(dayCount) {\r\n  var result = [];\r\n  for (var i = 0, len = data.values.length; i < len; i++) {\r\n    if (i < dayCount) {\r\n      result.push(\"-\");\r\n      continue;\r\n    }\r\n    var sum = 0;\r\n    for (var j = 0; j < dayCount; j++) {\r\n      sum += data.values[i - j][1];\r\n    }\r\n    result.push(sum / dayCount);\r\n  }\r\n  return result;\r\n}\r\nconst options = {\r\n  tooltip: {\r\n    trigger: \"axis\",\r\n    axisPointer: {\r\n      type: \"cross\",\r\n    },\r\n  },\r\n  legend: {\r\n    data: [\"日K\", \"MA5\", \"MA10\", \"MA20\", \"MA30\"],\r\n  },\r\n  grid: {\r\n    left: \"10%\",\r\n    right: \"10%\",\r\n    bottom: \"15%\",\r\n  },\r\n  xAxis: {\r\n    type: \"category\",\r\n    data: data.categoryData,\r\n    scale: true,\r\n    boundaryGap: false,\r\n    axisLine: { onZero: false },\r\n    splitLine: { show: false },\r\n    splitNumber: 20,\r\n    min: \"dataMin\",\r\n    max: \"dataMax\",\r\n  },\r\n  yAxis: {\r\n    scale: true,\r\n    splitArea: {\r\n      show: true,\r\n    },\r\n  },\r\n  dataZoom: [\r\n    {\r\n      type: \"inside\",\r\n      start: 50,\r\n      end: 100,\r\n    },\r\n    {\r\n      show: true,\r\n      type: \"slider\",\r\n      top: \"90%\",\r\n      start: 50,\r\n      end: 100,\r\n    },\r\n  ],\r\n  series: [\r\n    {\r\n      name: \"日K\",\r\n      type: \"candlestick\",\r\n      data: data.values,\r\n      itemStyle: {\r\n        color: \"#ec0000\",\r\n        color0: \"#00da3c\",\r\n        borderColor: \"#8A0000\",\r\n        borderColor0: \"#008F28\",\r\n      },\r\n      markPoint: {\r\n        label: {\r\n          normal: {\r\n            formatter: function (param) {\r\n              return param != null ? Math.round(param.value) : \"\";\r\n            },\r\n          },\r\n        },\r\n        data: [\r\n          {\r\n            name: \"XX標點\",\r\n            coord: [\"2013/5/31\", 2300],\r\n            value: 2300,\r\n            itemStyle: {\r\n              color: \"rgb(41,60,85)\",\r\n            },\r\n          },\r\n          {\r\n            name: \"highest value\",\r\n            type: \"max\",\r\n            valueDim: \"highest\",\r\n          },\r\n          {\r\n            name: \"lowest value\",\r\n            type: \"min\",\r\n            valueDim: \"lowest\",\r\n          },\r\n          {\r\n            name: \"average value on close\",\r\n            type: \"average\",\r\n            valueDim: \"close\",\r\n          },\r\n        ],\r\n        tooltip: {\r\n          formatter: function (param) {\r\n            return param.name + \"<br>\" + (param.data.coord || \"\");\r\n          },\r\n        },\r\n      },\r\n      markLine: {\r\n        symbol: [\"none\", \"none\"],\r\n        data: [\r\n          [\r\n            {\r\n              name: \"from lowest to highest\",\r\n              type: \"min\",\r\n              valueDim: \"lowest\",\r\n              symbol: \"circle\",\r\n              symbolSize: 10,\r\n              label: {\r\n                show: false,\r\n              },\r\n              emphasis: {\r\n                label: {\r\n                  show: false,\r\n                },\r\n              },\r\n            },\r\n            {\r\n              type: \"max\",\r\n              valueDim: \"highest\",\r\n              symbol: \"circle\",\r\n              symbolSize: 10,\r\n              label: {\r\n                show: false,\r\n              },\r\n              emphasis: {\r\n                label: {\r\n                  show: false,\r\n                },\r\n              },\r\n            },\r\n          ],\r\n          {\r\n            name: \"min line on close\",\r\n            type: \"min\",\r\n            valueDim: \"close\",\r\n          },\r\n          {\r\n            name: \"max line on close\",\r\n            type: \"max\",\r\n            valueDim: \"close\",\r\n          },\r\n        ],\r\n      },\r\n    },\r\n    {\r\n      name: \"MA5\",\r\n      type: \"line\",\r\n      data: calculateMA(5),\r\n      smooth: true,\r\n      lineStyle: {\r\n        opacity: 0.5,\r\n      },\r\n    },\r\n    {\r\n      name: \"MA10\",\r\n      type: \"line\",\r\n      data: calculateMA(10),\r\n      smooth: true,\r\n      lineStyle: {\r\n        opacity: 0.5,\r\n      },\r\n    },\r\n    {\r\n      name: \"MA20\",\r\n      type: \"line\",\r\n      data: calculateMA(20),\r\n      smooth: true,\r\n      lineStyle: {\r\n        opacity: 0.5,\r\n      },\r\n    },\r\n    {\r\n      name: \"MA30\",\r\n      type: \"line\",\r\n      data: calculateMA(30),\r\n      smooth: true,\r\n      lineStyle: {\r\n        opacity: 0.5,\r\n      },\r\n    },\r\n  ],\r\n};\r\nconst Candlestick = () => {\r\n  return <ReactECharts option={options} />;\r\n};\r\n\r\nexport default Candlestick;\r\n","import React, { useEffect, useRef, useState } from \"react\";\r\nimport Candlestick from \"./candlestick\";\r\nimport BarChart from \"./bar\";\r\nimport BarLineChart from \"./bar-line\";\r\n\r\nconst EchartExample = () => {\r\n  return (\r\n    <div>\r\n      <Candlestick />\r\n      <BarChart\r\n        data={{\r\n          100: 15,\r\n          102: 11,\r\n          108: 23,\r\n          109: 2,\r\n          111: 12,\r\n        }}\r\n      />\r\n      <BarLineChart />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EchartExample;\r\n","import React, { useState } from \"react\";\r\nimport { defaultAxios, api } from \"../../environment/api\";\r\nimport dayjs from \"dayjs\";\r\nimport { Button, DatePicker, Input } from \"antd\";\r\n\r\nconst FrequentData = function () {\r\n  const [startTime, setStartTime] = useState();\r\n  const [endTime, setEndTime] = useState();\r\n  const [stockId, setStockId] = useState();\r\n  return (\r\n    <div>\r\n      <div style={{ display: \"flex\", flexDirection: \"row\", padding: \"20px\" }}>\r\n        <Input\r\n          style={{ width: \"100px\" }}\r\n          type=\"number\"\r\n          max={10}\r\n          min={1}\r\n          value={stockId}\r\n          step={1}\r\n          onChange={(e) => {\r\n            setStockId(e.target.value);\r\n          }}\r\n        />\r\n        <DatePicker\r\n          showTime\r\n          placeholder=\"選擇開始時間\"\r\n          disabledDate={(current) => current && current > dayjs()}\r\n          onChange={(time) => {\r\n            if (time) setStartTime(dayjs(time).toISOString());\r\n            else setStartTime(time);\r\n          }}\r\n        />\r\n        <DatePicker\r\n          showTime\r\n          placeholder=\"選擇結束時間\"\r\n          disabledDate={(current) => current && current > dayjs()}\r\n          onChange={(time) => {\r\n            if (time) setEndTime(dayjs(time).toISOString());\r\n            else setEndTime(time);\r\n          }}\r\n        />\r\n      </div>\r\n      <div style={{ paddingLeft: \"20px\" }}>\r\n        <Button\r\n          onClick={() => {\r\n            defaultAxios({\r\n              url: api.getFrequentData.url,\r\n              method: api.getFrequentData.method,\r\n              params: {\r\n                createdTime: JSON.stringify({ max: endTime, min: startTime }),\r\n                stockId,\r\n              },\r\n            }).then(({ data }) => console.log(data));\r\n          }}\r\n        >\r\n          GET JSON\r\n        </Button>\r\n        <Button\r\n          onClick={() => {\r\n            defaultAxios({\r\n              url: api.downloadFrequentData.url,\r\n              method: api.downloadFrequentData.method,\r\n              params: {\r\n                createdTime: JSON.stringify({\r\n                  max: endTime,\r\n                  min: startTime,\r\n                }),\r\n                stockId,\r\n              },\r\n            }).then(({ data, headers }) => {\r\n              const fileName = headers[\"content-disposition\"]\r\n                .match(/\".+\"/)[0]\r\n                .replace(/\"/g, \"\");\r\n              const url = window.URL.createObjectURL(new Blob([data]));\r\n              const link = document.createElement(\"a\");\r\n              link.href = url;\r\n              link.setAttribute(\"download\", fileName);\r\n              document.body.appendChild(link);\r\n              link.click();\r\n            });\r\n          }}\r\n        >\r\n          DOWNLOAD CSV\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FrequentData;\r\n","import React from \"react\";\r\n\r\nconst Main = () => {\r\n  return <div></div>;\r\n};\r\n\r\nexport default Main;\r\n","import { Table } from \"antd\";\r\nimport dayjs from \"dayjs\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { api, defaultAxios } from \"../../../environment/api\";\r\n\r\nconst OrderTable = () => {\r\n  const [orederData, setOrderData] = useState([]);\r\n  const [page, setPage] = useState(1);\r\n  const [pageSize, setPageSize] = useState(20);\r\n  const [totalSize, setTotalSize] = useState(0);\r\n  useEffect(() => {\r\n    defaultAxios({\r\n      url: api.getOrder.url,\r\n      method: api.getOrder.method,\r\n      params: {\r\n        page: { page: page, pageSize: pageSize },\r\n      },\r\n    }).then((res) => {\r\n      console.log(res.data, \"asd\");\r\n      setOrderData(res.data.content);\r\n      setTotalSize(res.data.totalSize);\r\n    });\r\n  }, [page, pageSize]);\r\n\r\n  return (\r\n    <Table\r\n      columns={[\r\n        {\r\n          title: \"訂單 ID\",\r\n          dataIndex: \"orderId\",\r\n          render: (data) => <span>{data || \"NULL\"}</span>,\r\n        },\r\n        {\r\n          title: \"投資 ID\",\r\n          dataIndex: \"investorId\",\r\n        },\r\n        {\r\n          title: \"股票 ID\",\r\n          dataIndex: \"stockId\",\r\n        },\r\n        {\r\n          title: \"類型\",\r\n          dataIndex: \"method\",\r\n          render: (data) => <span>{data ? \"sell\" : \"buy\"}</span>,\r\n        },\r\n        {\r\n          title: \"副類型\",\r\n          dataIndex: \"subMethod\",\r\n          render: (data) => (\r\n            <span>{data ? \"UPDATE\" : data === null ? \"NULL\" : \"CANCEL\"}</span>\r\n          ),\r\n        },\r\n        {\r\n          title: \"價格\",\r\n          dataIndex: \"price\",\r\n        },\r\n        {\r\n          title: \"數量\",\r\n          dataIndex: \"quantity\",\r\n        },\r\n        {\r\n          title: \"價格類型\",\r\n          dataIndex: \"priceType\",\r\n          render: (data) => <span>{data ? \"LIMIT\" : \"MARKET\"}</span>,\r\n        },\r\n        {\r\n          title: \"狀態\",\r\n          dataIndex: \"status\",\r\n          render: (data) => <span>{data ? \"FULL\" : \"PARTIAL\"}</span>,\r\n        },\r\n        {\r\n          title: \"時間限制\",\r\n          dataIndex: \"timeRestriction\",\r\n          render: (data) => (\r\n            <span>{data ? \"IOC\" : data === 2 ? \"FOK\" : \"ROD\"}</span>\r\n          ),\r\n        },\r\n        {\r\n          title: \"委託時間\",\r\n          dataIndex: \"createdTime\",\r\n          width: 200,\r\n          render: (data) => (\r\n            <span>{dayjs(data).format(\"YYYY/MM/DD HH:mm:ss\")}</span>\r\n          ),\r\n        },\r\n      ]}\r\n      dataSource={orederData}\r\n      pagination={{\r\n        pageSize: pageSize,\r\n        total: totalSize,\r\n        onChange: (page) => {\r\n          setPage(page);\r\n        },\r\n        onShowSizeChange: (cur, size) => {\r\n          setPageSize(size);\r\n        },\r\n      }}\r\n      sticky\r\n    />\r\n  );\r\n};\r\n\r\nexport default OrderTable;\r\n","import { Table } from \"antd\";\r\nimport dayjs from \"dayjs\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { api, defaultAxios } from \"../../../environment/api\";\r\n\r\nconst PriceTable = () => {\r\n  const [orederData, setOrderData] = useState([]);\r\n  const [page, setPage] = useState(1);\r\n  const [pageSize, setPageSize] = useState(20);\r\n  const [totalSize, setTotalSize] = useState(0);\r\n  useEffect(() => {\r\n    defaultAxios({\r\n      url: api.getTransaction.url,\r\n      method: api.getTransaction.method,\r\n      params: {\r\n        page: { page: page, pageSize: pageSize },\r\n      },\r\n    }).then((res) => {\r\n      console.log(res.data, \"asd\");\r\n      setOrderData(res.data.content);\r\n      setTotalSize(res.data.totalSize);\r\n    });\r\n  }, [page, pageSize]);\r\n  return (\r\n    <Table\r\n      columns={[\r\n        {\r\n          title: \"投資 ID\",\r\n          dataIndex: \"investorId\",\r\n        },\r\n        {\r\n          title: \"股票 ID\",\r\n          dataIndex: \"stockId\",\r\n        },\r\n        {\r\n          title: \"類型\",\r\n          dataIndex: \"method\",\r\n          render: (data) => <span>{data ? \"sell\" : \"buy\"}</span>,\r\n        },\r\n        {\r\n          title: \"價格\",\r\n          dataIndex: \"price\",\r\n        },\r\n        {\r\n          title: \"數量\",\r\n          dataIndex: \"quantity\",\r\n        },\r\n        {\r\n          title: \"價格類型\",\r\n          dataIndex: \"priceType\",\r\n          render: (data) => <span>{data ? \"LIMIT\" : \"MARKET\"}</span>,\r\n        },\r\n        {\r\n          title: \"狀態\",\r\n          dataIndex: \"status\",\r\n          render: (data) => <span>{data ? \"FULL\" : \"PARTIAL\"}</span>,\r\n        },\r\n        {\r\n          title: \"時間限制\",\r\n          dataIndex: \"timeRestriction\",\r\n          render: (data) => (\r\n            <span>{data ? \"IOC\" : data === 2 ? \"FOK\" : \"ROD\"}</span>\r\n          ),\r\n        },\r\n        {\r\n          title: \"成交時間\",\r\n          dataIndex: \"createdTime\",\r\n          width: 200,\r\n          render: (data) => (\r\n            <span>{dayjs(data).format(\"YYYY/MM/DD HH:mm:ss\")}</span>\r\n          ),\r\n        },\r\n      ]}\r\n      dataSource={orederData}\r\n      pagination={{\r\n        pageSize: pageSize,\r\n        total: totalSize,\r\n        onChange: (page) => {\r\n          setPage(page);\r\n        },\r\n        onShowSizeChange: (cur, size) => {\r\n          setPageSize(size);\r\n        },\r\n      }}\r\n      sticky\r\n    />\r\n  );\r\n};\r\n\r\nexport default PriceTable;\r\n","import { Table } from \"antd\";\r\nimport dayjs from \"dayjs\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { api, defaultAxios } from \"../../environment/api\";\r\nimport { Button, InputNumber, Select } from \"antd\";\r\n\r\nconst QuickOrder = () => {\r\n\tconst [containerData, setContainerData] = useState([]);\r\n\tconst [rangeData, setRangeData] = useState([]);\r\n\tconst [quantity, setQuantity] = useState(1);\r\n\tconst [page, setPage] = useState(1);\r\n\tconst [pageSize, setPageSize] = useState(20);\r\n\tconst [totalSize, setTotalSize] = useState(0);\r\n\tconst [showType, setShowType] = useState(\"請選擇情境\");\r\n\tfunction sendOrder(data) {\r\n\t\tif (showType == \"請選擇情境\") {\r\n\t\t\tdefaultAxios({\r\n\t\t\t\turl: api.postOrder.url,\r\n\t\t\t\tmethod: api.postOrder.method,\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tinvestorId: 1,\r\n\t\t\t\t\tstockId: 1,\r\n\t\t\t\t\tmethod: data.method, // BUY = 0, SELL = 1\r\n\t\t\t\t\tprice: data.price,\r\n\t\t\t\t\tquantity: data.quantity,\r\n\t\t\t\t\tpriceType: data.priceType, // MARKET = 0, LIMIT = 1\r\n\t\t\t\t\ttimeRestriction: data.timeRestriction, // ROD = 0, IOC = 1, FOK = 2\r\n\t\t\t\t},\r\n\t\t\t}).then((res) => {\r\n\t\t\t\trefreshDefaultDisplay();\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tdefaultAxios({\r\n\t\t\t\turl: api.postVirtualOrder.url,\r\n\t\t\t\tmethod: api.postVirtualOrder.method,\r\n\t\t\t\tdata: {\r\n\t\t\t\t\tmethod: data.method, // BUY = 0, SELL = 1\r\n\t\t\t\t\tprice: data.price,\r\n\t\t\t\t\tquantity: data.quantity,\r\n\t\t\t\t\tpriceType: data.priceType, // MARKET = 0, LIMIT = 1\r\n\t\t\t\t\ttimeRestriction: data.timeRestriction, // ROD = 0, IOC = 1, FOK = 2\r\n\t\t\t\t\tvirtualOrderContainerId: showType,\r\n\t\t\t\t},\r\n\t\t\t}).then((res) => {\r\n\t\t\t\trefreshDisplay(showType);\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tfunction refreshDefaultDisplay() {\r\n\t\tdefaultAxios({\r\n\t\t\turl: api.getDisplay.url,\r\n\t\t\tmethod: api.getDisplay.method,\r\n\t\t\tparams: {\r\n\t\t\t\tisGetLatest: true,\r\n\t\t\t},\r\n\t\t}).then((res) => {\r\n\t\t\tsetRangeData(res.data.tickRange);\r\n\t\t});\r\n\t}\r\n\r\n\tfunction refreshDisplay(id) {\r\n\t\tdefaultAxios({\r\n\t\t\turl: api.getVirtualOrder.url + '/' + id,\r\n\t\t\tmethod: api.getVirtualOrder.method,\r\n\t\t\tparams: {\r\n\t\t\t\tisGetLatest: true,\r\n\t\t\t},\r\n\t\t}).then((res) => {\r\n\t\t\tsetRangeData(res.data.display.tickRange);\r\n\t\t});\r\n\t}\r\n\r\n\tuseEffect(() => {\r\n\t\tdefaultAxios({\r\n\t\t\turl: api.getVirtualOrderContainer.url,\r\n\t\t\tmethod: api.getVirtualOrderContainer.method,\r\n\t\t\tparams: {\r\n\t\t\t\tpage: { page: page, pageSize: pageSize },\r\n\t\t\t},\r\n\t\t}).then((res) => {\r\n\t\t\tlet data = [];\r\n\t\t\tres.data.content.forEach(function (content) {\r\n\t\t\t\tdata.push({\r\n\t\t\t\t\tlabel: content.name,\r\n\t\t\t\t\tvalue: content.id,\r\n\t\t\t\t})\r\n\t\t\t});\r\n\t\t\tsetContainerData(data);\r\n\t\t\tsetTotalSize(res.data.totalSize);\r\n\t\t});\r\n\r\n\t\trefreshDefaultDisplay();\r\n\t}, [page, pageSize]);\r\n\r\n\treturn (\r\n\t\t<div className=\"w-10/12 mx-auto\">\r\n\t\t\t<div>\r\n\t\t\t\t<Select\r\n\t\t\t\t\tvalue={showType}\r\n\t\t\t\t\tstyle={{ width: 120, marginBottom: '10px', marginRight: '10px' }}\r\n\t\t\t\t\tonChange={(value) => {\r\n\t\t\t\t\t\tsetShowType(value);\r\n\t\t\t\t\t\trefreshDisplay(value);\r\n\t\t\t\t\t}}\r\n\t\t\t\t\toptions={containerData}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<InputNumber min={1} defaultValue={quantity}\r\n\t\t\t\t\tstyle={{ marginRight: '10px' }}\r\n\t\t\t\t\tonChange={(value) => {\r\n\t\t\t\t\t\tsetQuantity(value);\r\n\t\t\t\t\t}}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<Button\r\n\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\tdanger\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tdefaultAxios({\r\n\t\t\t\t\t\t\turl: api.resetVirtualOrder.url + '/' + showType,\r\n\t\t\t\t\t\t\tmethod: api.resetVirtualOrder.method,\r\n\t\t\t\t\t\t\tdata: {\r\n\t\t\t\t\t\t\t\tid: 1,\r\n\t\t\t\t\t\t\t\tisReset: true,\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t}).then(() => {\r\n\t\t\t\t\t\t\trefreshDisplay(showType);\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t重製情境\r\n\t\t\t\t</Button>\r\n\t\t\t</div>\r\n\t\t\t{rangeData.map(\r\n\t\t\t\t(range, key) => (\r\n\t\t\t\t\t<div key={key} className=\"flex mb-1 items-center\">\r\n\t\t\t\t\t\t<Button className=\"w-full\" style={{ background: 'lightpink', borderColor: 'lightpink' }}\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tsendOrder({\r\n\t\t\t\t\t\t\t\t\tmethod: 0,\r\n\t\t\t\t\t\t\t\t\tprice: range.price,\r\n\t\t\t\t\t\t\t\t\tquantity: quantity,\r\n\t\t\t\t\t\t\t\t\tpriceType: 1,\r\n\t\t\t\t\t\t\t\t\ttimeRestriction: 0,\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{range.buyQuantity}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t<div className=\"bg-yellow-200 text-center w-1/4 mx-1 h-full py-1.5\">\r\n\t\t\t\t\t\t\t{range.price}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<Button className=\"w-full\" style={{ background: 'lightgreen', borderColor: 'lightgreen' }}\r\n\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\tsendOrder({\r\n\t\t\t\t\t\t\t\t\tmethod: 1,\r\n\t\t\t\t\t\t\t\t\tprice: range.price,\r\n\t\t\t\t\t\t\t\t\tquantity: quantity,\r\n\t\t\t\t\t\t\t\t\tpriceType: 1,\r\n\t\t\t\t\t\t\t\t\ttimeRestriction: 0,\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{range.sellQuantity}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)\r\n\t\t\t)}\r\n\t\t</div >\r\n\t);\r\n};\r\n\r\nexport default QuickOrder;\r\n","import React, { useEffect, useRef, useState } from \"react\";\r\nimport BarChart from \"../echart-example/bar\";\r\nimport { defaultAxios, api } from \"../../environment/api\";\r\nimport { Button, Input, Select, DatePicker, Table } from \"antd\";\r\nimport dayjs from \"dayjs\";\r\n\r\nconst ReplayChart = () => {\r\n  const chartRecord = useRef();\r\n  const [originData, setOriginData] = useState({});\r\n  const [restData, setResetdata] = useState([]);\r\n  const [restDataIndex, setResetdataIndex] = useState(-1);\r\n  const [buttonStatus, setButtonStatus] = useState(\"stop\");\r\n  const [showType, setShowType] = useState(\"all\");\r\n  const [frequency, setFrequency] = useState(1);\r\n  const [startTime, setStartTime] = useState();\r\n\r\n  useEffect(() => {\r\n    if (buttonStatus === \"select\") {\r\n      defaultAxios({\r\n        url: api.resetStock.url,\r\n        method: api.resetStock.method,\r\n        data: {\r\n          id: 1,\r\n          createdTime: startTime,\r\n          isReset: false,\r\n        },\r\n      }).then((res) => {\r\n        console.log(res.data.orders);\r\n        setResetdata(res.data.orders);\r\n        setOriginData({});\r\n        setResetdataIndex(-1);\r\n      });\r\n    } else if (buttonStatus === \"start\") {\r\n      clearInterval(chartRecord.current);\r\n      chartRecord.current = setInterval(() => {\r\n        setResetdataIndex((index) => {\r\n          return index + 1 < restData.length ? index + 1 : index;\r\n        });\r\n      }, 1000 * frequency);\r\n    } else if (buttonStatus === \"stop\") {\r\n      clearInterval(chartRecord.current);\r\n    }\r\n  }, [buttonStatus]);\r\n\r\n  useEffect(() => {\r\n    if (restDataIndex === restData.length) {\r\n      clearInterval(chartRecord.current);\r\n    } else {\r\n      const nextStep = restData[restDataIndex];\r\n      if (nextStep)\r\n        defaultAxios({\r\n          url: api.postOrder.url,\r\n          method: api.postOrder.method,\r\n          data: nextStep,\r\n        }).then((res) => {\r\n          const data = res.data;\r\n          if (data) setOriginData(data);\r\n          console.log(data, \"return\");\r\n        });\r\n    }\r\n  }, [restDataIndex]);\r\n\r\n  useEffect(() => {\r\n    if (buttonStatus === \"start\") {\r\n      clearInterval(chartRecord.current);\r\n      chartRecord.current = setInterval(() => {\r\n        setResetdataIndex((index) => {\r\n          return index + 1 < restData.length ? index + 1 : index;\r\n        });\r\n      }, 1000 * frequency);\r\n    }\r\n  }, [frequency]);\r\n  return (\r\n    <div>\r\n      <BarChart originData={originData} showType={showType} />\r\n      <div className=\"flex justify-around my-6 items-center\">\r\n        <div>\r\n          圖表模式\r\n          <Select\r\n            value={showType}\r\n            style={{ width: 120, marginLeft: \"20px\" }}\r\n            onChange={(value) => {\r\n              setShowType(value);\r\n            }}\r\n            options={[\r\n              {\r\n                label: \"全部\",\r\n                value: \"all\",\r\n              },\r\n              {\r\n                label: \"買賣五檔\",\r\n                value: \"allfive\",\r\n              },\r\n              {\r\n                label: \"買五檔\",\r\n                value: \"buyfive\",\r\n              },\r\n              {\r\n                label: \"賣五檔\",\r\n                value: \"sellfive\",\r\n              },\r\n            ]}\r\n          />\r\n        </div>\r\n        目前狀態: {buttonStatus}\r\n      </div>\r\n      <div className=\"flex justify-around my-6 items-end\">\r\n        <DatePicker\r\n          showTime\r\n          placeholder=\"選擇重播開始時間\"\r\n          disabledDate={(current) => current && current > dayjs()}\r\n          onChange={(time) => {\r\n            if (time) setStartTime(dayjs(time).toISOString());\r\n            else setStartTime(time);\r\n          }}\r\n        />\r\n        <Button\r\n          type=\"primary\"\r\n          disabled={!startTime}\r\n          onClick={() => setButtonStatus(\"select\")}\r\n        >\r\n          選擇時間\r\n        </Button>\r\n        <Button\r\n          type=\"primary\"\r\n          danger\r\n          disabled={!restData.length}\r\n          onClick={() => setButtonStatus(\"start\")}\r\n        >\r\n          開始重播\r\n        </Button>\r\n        <Button\r\n          style={{ background: \"#91A194\", color: \"white\" }}\r\n          onClick={() => setButtonStatus(\"stop\")}\r\n        >\r\n          暫停重播\r\n        </Button>\r\n        <div>\r\n          幾秒一單\r\n          <Input\r\n            type=\"number\"\r\n            max={10}\r\n            min={1}\r\n            value={frequency}\r\n            step={1}\r\n            onChange={(e) => {\r\n              setFrequency(e.target.value);\r\n            }}\r\n          />\r\n        </div>\r\n        <Button\r\n          disabled={buttonStatus === \"start\" || !restData.length}\r\n          onClick={() => {\r\n            setButtonStatus(\"next\");\r\n            if (restDataIndex + 1 < restData.length)\r\n              setResetdataIndex(restDataIndex + 1);\r\n          }}\r\n        >\r\n          手動下一步\r\n        </Button>\r\n      </div>\r\n      <div>\r\n        下步狀態({restDataIndex} / {restData.length - 1} )\r\n        {!!restData.length && (\r\n          <Table\r\n            columns={[\r\n              // {\r\n              //   title: \"訂單 ID\",\r\n              //   dataIndex: \"orderId\",\r\n              //   render: (data) => <span>{data || \"NULL\"}</span>,\r\n              // },\r\n              // {\r\n              //   title: \"投資 ID\",\r\n              //   dataIndex: \"investorId\",\r\n              // },\r\n              // {\r\n              //   title: \"股票 ID\",\r\n              //   dataIndex: \"stockId\",\r\n              // },\r\n              {\r\n                title: \"價格類型\",\r\n                dataIndex: \"priceType\",\r\n                render: (data) => <span>{data ? \"LIMIT\" : \"MARKET\"}</span>,\r\n              },\r\n              {\r\n                title: \"類型\",\r\n                dataIndex: \"method\",\r\n                render: (data) => <span>{data ? \"sell\" : \"buy\"}</span>,\r\n              },\r\n              {\r\n                title: \"價格\",\r\n                dataIndex: \"price\",\r\n              },\r\n              {\r\n                title: \"數量\",\r\n                dataIndex: \"quantity\",\r\n              },\r\n\r\n              {\r\n                title: \"副類型\",\r\n                dataIndex: \"subMethod\",\r\n                render: (data) => (\r\n                  <span>\r\n                    {data ? \"UPDATE\" : data === null ? \"NULL\" : \"CANCEL\"}\r\n                  </span>\r\n                ),\r\n              },\r\n\r\n              // {\r\n              //   title: \"狀態\",\r\n              //   dataIndex: \"status\",\r\n              //   render: (data) => <span>{data ? \"FAIL\" : \"SUCCESS\"}</span>,\r\n              // },\r\n              {\r\n                title: \"時間限制\",\r\n                dataIndex: \"timeRestriction\",\r\n                render: (data) => (\r\n                  <span>{data ? \"IOC\" : data === 2 ? \"FOK\" : \"ROD\"}</span>\r\n                ),\r\n              },\r\n            ]}\r\n            pagination={false}\r\n            dataSource={[restData[restDataIndex + 1]]}\r\n            sticky\r\n          />\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ReplayChart;\r\n","import { NavLink } from \"react-router-dom\";\r\nimport React from \"react\";\r\n\r\nconst RouterLink = () => {\r\n  return (\r\n    <ul className=\"sticky px-4 bg-gray-200 w-48 flex-shrink-0 min-h-screen\">\r\n      <li className=\"py-5 text-xl border-b border-black\">\r\n        <NavLink to=\"/stock-font-end/\" exact>\r\n          main\r\n        </NavLink>\r\n      </li>\r\n      <li className=\"py-5 text-xl border-b border-black\">\r\n        <NavLink to=\"/stock-font-end/echart-example\">echart example</NavLink>\r\n      </li>\r\n      <li className=\"py-5 text-xl border-b border-black\">\r\n        <NavLink to=\"/stock-font-end/auto-chart\">LOB 圖表</NavLink>\r\n      </li>\r\n      <li className=\"py-5 text-xl border-b border-black\">\r\n        <NavLink to=\"/stock-font-end/replay-chart\">重播紀錄</NavLink>\r\n      </li>\r\n      <li className=\"py-5 text-xl border-b border-black\">\r\n        <NavLink to=\"/stock-font-end/oreder-table\">委託紀錄表單</NavLink>\r\n      </li>\r\n      <li className=\"py-5 text-xl border-b border-black\">\r\n        <NavLink to=\"/stock-font-end/price-table\">成交紀錄表單</NavLink>\r\n      </li>\r\n      <li className=\"py-5 text-xl border-b border-black\">\r\n        <NavLink to=\"/stock-font-end/quick-order\">閃電下單</NavLink>\r\n      </li>\r\n      <li className=\"py-5 text-xl border-b border-black\">\r\n        <NavLink to=\"/stock-font-end/case\">情境管理</NavLink>\r\n      </li>\r\n      <li className=\"py-5 text-xl border-b border-black\">\r\n        <NavLink to=\"/stock-font-end/frequent-data\">高頻資料</NavLink>\r\n      </li>\r\n    </ul>\r\n  );\r\n};\r\n\r\nexport default RouterLink;\r\n","import \"antd/dist/antd.css\";\r\n\r\nimport { BrowserRouter, Redirect, Route, Switch } from \"react-router-dom\";\r\n\r\nimport AutoChart from \"./pages/auto-chart\";\r\nimport Case from \"./pages/case\";\r\nimport EchartExample from \"./pages/echart-example\";\r\nimport FrequentData from \"./pages/frequent-data\";\r\nimport Main from \"./pages/main\";\r\nimport OrderTable from \"./pages/table/order-table\";\r\nimport PriceTable from \"./pages/table/price-table\";\r\nimport QuickOrder from \"./pages/quick-order\";\r\nimport ReplayChart from \"./pages/replay\";\r\nimport RouterLink from \"./component/router-link\";\r\n\r\nconst App = () => {\r\n  return (\r\n    <BrowserRouter>\r\n      <div className=\"flex \">\r\n        <RouterLink />\r\n        <div className=\"flex-1 my-10 \">\r\n          <Switch>\r\n            <Route path=\"/stock-font-end/\" exact component={Main} />\r\n            <Route\r\n              path=\"/stock-font-end/echart-example\"\r\n              component={EchartExample}\r\n            />\r\n            <Route path=\"/stock-font-end/auto-chart\" component={AutoChart} />\r\n            <Route\r\n              path=\"/stock-font-end/replay-chart\"\r\n              component={ReplayChart}\r\n            />\r\n            <Route path=\"/stock-font-end/oreder-table\" component={OrderTable} />\r\n            <Route path=\"/stock-font-end/price-table\" component={PriceTable} />\r\n            <Route path=\"/stock-font-end/quick-order\" component={QuickOrder} />\r\n            <Route path=\"/stock-font-end/case\" component={Case} />\r\n            <Route\r\n              path=\"/stock-font-end/frequent-data\"\r\n              component={FrequentData}\r\n            />\r\n            ;\r\n            <Redirect from=\"*\" to=\"/stock-font-end/\" />\r\n          </Switch>\r\n        </div>\r\n      </div>\r\n    </BrowserRouter>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App.jsx';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}